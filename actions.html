<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actions - EDEN UI EDITOR</title>
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="sidebar">
        <div class="logo">
            <img src="logo.png" alt="EDEN UI Logo" class="logo-image">
            <h1>EDEN UI</h1>
            <p>Editor Documentation</p>
        </div>
        <ul class="nav-menu">
            <li><a href="index.html">Accueil</a></li>
            <li><a href="animations.html">Animations</a></li>
            <li><a href="composants.html">Composants</a></li>
            <li><a href="proprietes.html">Propri√©t√©s</a></li>
            <li><a href="editeur.html">√âditeur</a></li>
            <li><a href="actions.html" class="active">Actions</a></li>
        </ul>
    </nav>

    <main class="content">
        <header>
            <h1>‚ö° Actions et √âv√©nements</h1>
            <p class="subtitle">Configuration des interactions des boutons</p>
        </header>

        <!-- Introduction -->
        <section class="intro">
            <p>Les boutons peuvent d√©clencher des actions au clic. EDEN UI propose plusieurs types d'actions pr√©d√©finies et la possibilit√© d'√©crire du code custom.</p>
        </section>

        <!-- Types d'actions -->
        <section class="card">
            <h2>üìã Types d'actions disponibles</h2>

            <div class="preset-item">
                <h3>1. Aucune</h3>
                <div class="preset-details">
                    <span class="badge badge-type">Action par d√©faut</span>
                </div>
                <p><strong>Comportement :</strong> Le bouton ne fait rien au clic</p>
                <ul>
                    <li><strong>Utilisation :</strong> Prototypage, boutons d√©sactiv√©s, ou boutons purement d√©coratifs</li>
                    <li><strong>Code export√© :</strong> Aucun callback g√©n√©r√©</li>
                </ul>
                <div class="example">
                    <strong>Cas d'usage :</strong> Pendant le design initial, pour tester l'apparence avant d'impl√©menter les actions.
                </div>
            </div>

            <div class="preset-item">
                <h3>2. Fermer le menu</h3>
                <div class="preset-details">
                    <span class="badge badge-type">Fermeture UI</span>
                </div>
                <p><strong>Comportement :</strong> Ferme compl√®tement l'interface UI</p>
                <ul>
                    <li><strong>Utilisation :</strong> Boutons de sortie, "Retour", "Annuler", "Fermer"</li>
                    <li><strong>Effet :</strong> Appelle la m√©thode <code>u:Close()</code></li>
                    <li><strong>Propagation :</strong> Ferme toute l'UI, pas seulement un panel</li>
                </ul>
                <div class="example">
                    <strong>Code export√© :</strong><br>
                    <pre>b:On("Btn_Close", function(u) u:Close() end)</pre>
                </div>
            </div>

            <div class="preset-item">
                <h3>3. Naviguer vers page</h3>
                <div class="preset-details">
                    <span class="badge badge-type">Navigation multi-pages</span>
                </div>
                <p><strong>Comportement :</strong> Change de page dans un syst√®me multi-pages</p>
                <ul>
                    <li><strong>Utilisation :</strong> Onglets, menus avec sous-menus, wizards</li>
                    <li><strong>Configuration :</strong> S√©lectionnez la page cible dans le menu d√©roulant</li>
                    <li><strong>Effet :</strong> Masque la page actuelle et affiche la page cible</li>
                </ul>
                <div class="composition-section">
                    <h4>Configuration</h4>
                    <ol>
                        <li>Cr√©ez plusieurs pages dans le panneau "Pages"</li>
                        <li>S√©lectionnez un bouton</li>
                        <li>Dans "Action du bouton", choisissez "Naviguer vers page"</li>
                        <li>Dans "Page cible", s√©lectionnez la page de destination</li>
                    </ol>
                </div>
                <div class="example">
                    <strong>Code export√© :</strong><br>
                    <pre>b:On("Btn_Options", function(u) ShowPage(2) end)</pre>
                    <p class="detail">La fonction ShowPage() g√®re automatiquement le masquage/affichage des √©l√©ments</p>
                </div>
            </div>

            <div class="preset-item">
                <h3>4. Code custom</h3>
                <div class="preset-details">
                    <span class="badge badge-type">Personnalis√©</span>
                </div>
                <p><strong>Comportement :</strong> Ex√©cute du code Lua personnalis√©</p>
                <ul>
                    <li><strong>Utilisation :</strong> Actions sp√©cifiques √† votre gamemode/addon</li>
                    <li><strong>Configuration :</strong> Entrez votre code dans le champ "Code custom"</li>
                    <li><strong>Variable disponible :</strong> <code>u</code> = instance de l'UI (pour acc√®s aux √©l√©ments)</li>
                </ul>
                <div class="composition-section">
                    <h4>Exemples de code</h4>
                    <pre>-- Exemple 1: Afficher un message
chat.AddText(Color(100, 200, 100), "Bouton cliqu√© !")

-- Exemple 2: Ex√©cuter une commande
RunConsoleCommand("say", "Hello World")

-- Exemple 3: Netmessage au serveur
net.Start("MonMessage")
net.WriteString("action_demo")
net.SendToServer()

-- Exemple 4: Appeler une fonction custom
MaFonctionPerso()

-- Exemple 5: Acc√©der √† un √©l√©ment de l'UI
local myElement = u:GetElement("MonElementID")
if myElement then
    myElement:SetVisible(false)
end

-- Exemple 6: Fermer et ouvrir une autre UI
u:Close()
EDEN_UI.Menus.AutreMenu()</pre>
                </div>
                <div class="example">
                    <strong>Code export√© :</strong><br>
                    <pre>b:On("Btn_Custom", function(u) --[[ Votre code ici ]] end)</pre>
                </div>
            </div>
        </section>

        <!-- √âv√©nements de boutons -->
        <section class="card">
            <h2>üñ±Ô∏è √âv√©nements de boutons</h2>

            <div class="type-item">
                <h3>√âtats du bouton</h3>
                <p>Les boutons r√©agissent automatiquement aux interactions :</p>
                <ul>
                    <li><strong>Normal :</strong> √âtat par d√©faut, aucune interaction</li>
                    <li><strong>Hover (survol) :</strong> Le curseur est au-dessus du bouton</li>
                    <li><strong>Pressed (cliqu√©) :</strong> Le bouton est enfonc√© (clic maintenu)</li>
                    <li><strong>Disabled (d√©sactiv√©) :</strong> Le bouton ne peut pas √™tre cliqu√©</li>
                </ul>
            </div>

            <div class="type-item">
                <h3>Callback OnClick</h3>
                <p>L'action configur√©e est d√©clench√©e au moment du clic (rel√¢chement du bouton).</p>
                <ul>
                    <li><strong>Timing :</strong> Se d√©clenche sur <code>OnMouseReleased</code></li>
                    <li><strong>Une seule action :</strong> Un bouton ne peut avoir qu'une action configur√©e</li>
                    <li><strong>Extension :</strong> Vous pouvez ajouter plus de callbacks dans le code export√©</li>
                </ul>
            </div>
        </section>

        <!-- Combinaison avec animations -->
        <section class="card">
            <h2>üé¨ Combinaison Actions + Animations</h2>
            <p>Les actions et animations fonctionnent ensemble pour cr√©er des interactions riches.</p>

            <div class="composition-section">
                <h3>Exemples de combinaisons</h3>
                
                <div class="preset-item">
                    <h4>Bouton avec feedback visuel</h4>
                    <ul>
                        <li><strong>Effet hover :</strong> "Alpha & Brightness" (assombrit au survol)</li>
                        <li><strong>Animation :</strong> "Scale Pop" OnHover (agrandit l√©g√®rement)</li>
                        <li><strong>Action :</strong> "Naviguer vers page" ou "Code custom"</li>
                    </ul>
                    <p class="detail"><strong>R√©sultat :</strong> Le bouton pulse et s'assombrit au survol, puis ex√©cute l'action au clic</p>
                </div>

                <div class="preset-item">
                    <h4>Bouton anim√© en continu</h4>
                    <ul>
                        <li><strong>Animation 1 :</strong> "Color Pulse" Loop (pulsation de couleur)</li>
                        <li><strong>Animation 2 :</strong> "Rotate" Loop (rotation subtile)</li>
                        <li><strong>Effet hover :</strong> "Different Sprite" (sprite alternatif au survol)</li>
                        <li><strong>Action :</strong> "Code custom"</li>
                    </ul>
                    <p class="detail"><strong>R√©sultat :</strong> Bouton dynamique qui attire l'attention, avec feedback au survol et action au clic</p>
                </div>

                <div class="preset-item">
                    <h4>Bouton de fermeture simple</h4>
                    <ul>
                        <li><strong>Animation :</strong> "Fade In" OnShow (apparition douce)</li>
                        <li><strong>Effet hover :</strong> "Alpha & Brightness"</li>
                        <li><strong>Action :</strong> "Fermer le menu"</li>
                    </ul>
                    <p class="detail"><strong>R√©sultat :</strong> Bouton discret qui appara√Æt en douceur et ferme proprement l'UI</p>
                </div>
            </div>

            <div class="example">
                <strong>Bonne pratique :</strong> Utilisez des animations subtiles (dur√©e courte, ~0.15-0.25s) pour les interactions hover afin de maintenir une UI r√©active.
            </div>
        </section>

        <!-- H√©ritage d'√©tat (Text) -->
        <section class="card">
            <h2>üîó Inherit Hover (Texte sur boutons)</h2>
            <p>Les √©l√©ments Text peuvent h√©riter des √©tats interactifs de leur bouton parent.</p>

            <div class="type-item">
                <h3>Fonctionnement</h3>
                <ul>
                    <li><strong>Activation :</strong> Cochez "Inherit Hover" dans les propri√©t√©s du Text</li>
                    <li><strong>Parent requis :</strong> Le Text doit √™tre enfant d'un Button</li>
                    <li><strong>√âtats synchronis√©s :</strong>
                        <ul>
                            <li><strong>Normal :</strong> Couleur par d√©faut du texte</li>
                            <li><strong>Hover :</strong> Couleur au survol (configurable)</li>
                            <li><strong>Pressed :</strong> Couleur au clic (configurable)</li>
                        </ul>
                    </li>
                </ul>
            </div>

            <div class="composition-section">
                <h3>Configuration</h3>
                <ol>
                    <li>Cr√©ez un Button</li>
                    <li>Ajoutez un Text en tant qu'enfant du Button</li>
                    <li>S√©lectionnez le Text</li>
                    <li>Activez "Inherit Hover from Button Parent"</li>
                    <li>Configurez les couleurs :
                        <ul>
                            <li><strong>Couleur normale :</strong> Couleur principale du texte</li>
                            <li><strong>Couleur Hover :</strong> Couleur au survol du bouton (ex: blanc ‚Üí jaune)</li>
                            <li><strong>Couleur Pressed :</strong> Couleur au clic (ex: jaune ‚Üí orange)</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <div class="example">
                <strong>Exemple typique :</strong><br>
                Bouton "JOUER" :<br>
                - Button avec sprite de fond et √©tat hover<br>
                - Text "JOUER" en blanc<br>
                - Hover : texte devient jaune vif<br>
                - Pressed : texte devient orange<br>
                - Action : Code custom pour lancer le jeu
            </div>
        </section>

        <!-- Export et int√©gration -->
        <section class="card">
            <h2>üíª Export et int√©gration du code</h2>

            <div class="type-item">
                <h3>Structure du code export√©</h3>
                <p>Les actions sont export√©es dans la section "Actions" du code Lua g√©n√©r√©.</p>
                <pre>-- Actions:
b:On("Btn_Play", function(u) 
    -- Code de l'action "Jouer"
    MaFonctionDeDemarrage()
end)

b:On("Btn_Options", function(u) 
    ShowPage(2) 
end)

b:On("Btn_Close", function(u) 
    u:Close() 
end)</pre>
            </div>

            <div class="type-item">
                <h3>Variable 'u' (UI Instance)</h3>
                <p>La variable <code>u</code> donne acc√®s √† l'instance de l'UI et ses m√©thodes.</p>
                <ul>
                    <li><strong>u:Close() :</strong> Ferme l'UI</li>
                    <li><strong>u:GetElement(id) :</strong> R√©cup√®re un √©l√©ment par son ID</li>
                    <li><strong>u.frame :</strong> Acc√®s au DFrame racine</li>
                </ul>
                <div class="composition-section">
                    <h4>Exemples d'utilisation</h4>
                    <pre>-- Masquer un √©l√©ment
b:On("Btn_Toggle", function(u)
    local elem = u:GetElement("MonSprite")
    if elem then
        elem:SetVisible(not elem:IsVisible())
    end
end)

-- Modifier un texte
b:On("Btn_Update", function(u)
    local text = u:GetElement("Label_Score")
    if text then
        text:SetText("Score: 1000")
    end
end)

-- Acc√©der au frame pour manipulation avanc√©e
b:On("Btn_Advanced", function(u)
    u.frame:SetPos(100, 100)
    u.frame:SizeTo(1000, 600, 0.5, 0, -1)
end)</pre>
                </div>
            </div>

            <div class="type-item">
                <h3>Extension du code</h3>
                <p>Apr√®s export, vous pouvez enrichir le code avec plus de fonctionnalit√©s.</p>
                <ul>
                    <li><strong>Ajouter des callbacks :</strong> Autres √©v√©nements (Think, Paint, etc.)</li>
                    <li><strong>Netmessages :</strong> Communication client-serveur</li>
                    <li><strong>Hooks :</strong> Int√©gration avec d'autres syst√®mes</li>
                    <li><strong>Timers :</strong> Actions diff√©r√©es ou r√©p√©t√©es</li>
                </ul>
            </div>

            <div class="example">
                <strong>Workflow recommand√© :</strong><br>
                1. Configurez les actions de base dans l'√©diteur<br>
                2. Exportez le code Lua<br>
                3. Int√©grez dans votre addon<br>
                4. Ajoutez les fonctionnalit√©s avanc√©es manuellement dans le code<br>
                5. Testez en jeu
            </div>
        </section>

        <!-- Bonnes pratiques -->
        <section class="card">
            <h2>‚úÖ Bonnes pratiques</h2>

            <div class="composition-section">
                <h3>Actions</h3>
                <ul>
                    <li><strong>Nommage clair :</strong> Donnez des IDs descriptifs aux boutons (Btn_Play, Btn_Settings, Btn_Back)</li>
                    <li><strong>Feedback visuel :</strong> Combinez toujours actions avec effets hover pour un feedback imm√©diat</li>
                    <li><strong>Code simple dans l'√©diteur :</strong> Gardez le code custom court, d√©l√©guez la logique complexe √† des fonctions externes</li>
                    <li><strong>Testez en jeu :</strong> L'√©diteur ne peut pas simuler les actions, testez toujours en situation r√©elle</li>
                </ul>
            </div>

            <div class="composition-section">
                <h3>Navigation multi-pages</h3>
                <ul>
                    <li><strong>Page d'accueil :</strong> La Page 1 est toujours affich√©e en premier</li>
                    <li><strong>Boutons de retour :</strong> Pr√©voyez toujours un moyen de revenir √† la page pr√©c√©dente</li>
                    <li><strong>Transitions :</strong> Utilisez des animations OnShow pour des transitions douces entre pages</li>
                    <li><strong>Noms explicites :</strong> Renommez vos pages (ex: "Menu Principal", "Options", "Inventaire")</li>
                </ul>
            </div>

            <div class="composition-section">
                <h3>Performance</h3>
                <ul>
                    <li><strong>√âvitez les boucles infinies :</strong> Dans le code custom, attention aux appels r√©cursifs</li>
                    <li><strong>Netmessages :</strong> Limitez la fr√©quence des envois au serveur</li>
                    <li><strong>Animations + Actions :</strong> Les animations l√©g√®res (0.15-0.3s) gardent l'UI r√©active</li>
                </ul>
            </div>
        </section>

        <!-- Exemples complets -->
        <section class="card">
            <h2>üìö Exemples complets</h2>

            <div class="preset-item">
                <h3>Menu principal simple</h3>
                <pre>-- Page 1: Menu principal
Frame: Main (900√ó500, centr√©)
  ‚îú‚îÄ Sprite: Background (background.png)
  ‚îú‚îÄ Text: Title ("MON JEU", centr√©, large)
  ‚îú‚îÄ Button: Btn_Play
  ‚îÇ   ‚îú‚îÄ Sprite: Icon_Play
  ‚îÇ   ‚îú‚îÄ Text: "JOUER" (inherit hover)
  ‚îÇ   ‚îî‚îÄ Action: Code custom ‚Üí StartGame()
  ‚îú‚îÄ Button: Btn_Options
  ‚îÇ   ‚îú‚îÄ Text: "OPTIONS" (inherit hover)
  ‚îÇ   ‚îî‚îÄ Action: Naviguer vers page 2
  ‚îî‚îÄ Button: Btn_Quit
      ‚îú‚îÄ Text: "QUITTER" (inherit hover)
      ‚îî‚îÄ Action: Fermer le menu

-- Page 2: Options
Frame: Main (m√™me que page 1)
  ‚îú‚îÄ Text: Title_Options ("OPTIONS")
  ‚îú‚îÄ [... contr√¥les d'options ...]
  ‚îî‚îÄ Button: Btn_Back
      ‚îú‚îÄ Text: "RETOUR"
      ‚îî‚îÄ Action: Naviguer vers page 1</pre>
            </div>

            <div class="preset-item">
                <h3>Bouton avec animations riches</h3>
                <pre>Button: Btn_Epic
  - Mat√©riau: button_glow.png
  - Effet hover: Alpha & Brightness (0.9)
  - Animation 1: Color Pulse (Loop, 0.8s)
  - Animation 2: Scale Pop (OnHover, 0.15s)
  - Animation 3: Fade In (OnShow, 0.25s)
  - Enfants:
      - Text: "COMMENCER" (inherit hover: blanc‚Üíjaune‚Üíorange)
      - Sprite: Icon_Star (animation Rotate Loop)
  - Action: Code custom ‚Üí 
      net.Start("StartMission")
      net.WriteInt(mission_id, 16)
      net.SendToServer()
      u:Close()</pre>
            </div>
        </section>

        <footer>
            <p>EDEN UI EDITOR Documentation - 2026</p>
        </footer>
    </main>
</body>
</html>
